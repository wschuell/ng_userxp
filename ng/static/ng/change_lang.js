//LANG GETS DECLARED HERE, this line is used in the python script generating it
var lang = {"fr": {"btn_continue": "Continuer", "subtitle": "Explorer le langage.", "button_basic": "TUTORIEL", "tooltip_example": "Si vous n'avez pas de code, laissez ce champ vide.", "results": "RESULTATS", "history_success": "Succ\u00e8s", "c2_4": "Mais attention, vous n'avez \u00e0 vous tous qu'un <span class='important'>nombre limit\u00e9 de conversations</span> pour r\u00e9ussir !", "c2_2": "L'un de vous proposera un mot et l'autre devra deviner l'objet auquel il fait r\u00e9f\u00e9rence.", "c2_3": "Parfois vous proposerez un mot, parfois vous devinerez l'objet et parfois encore vous ne ferez pas partie de la conversation et ne saurez pas ce qui s'y est dit.", "c2_1": "Pour ce faire, vous ne pourrez parler que <span class='important'>deux par deux</span> gr\u00e2ce \u00e0 une <span class='important'>radio</span>, <span class='important'>sans savoir lequel de vos camarades d'infortune est \u00e0 l'autre bout</span>.", "choice_words": "C\u2019est \u00e0 vous de prendre la parole.<br> Choissisez le mot que vous allez utiliser pour parler de cet objet.", "submit": "Valider", "button_next": "CONTINUER", "modal_body": "Si vous quittez la partie en cours, celle-ci ne sera pas sauvegard\u00e9e. Voulez-vous toujours quitter ?", "multi_locked": "Terminer le Jeu 3 fois pour d\u00e9bloquer", "conversations": "CONVERSATION", "btn_home": "Revenir \u00e0 l'Accueil", "anhearer_text": "On essaye de communiquer avec vous.<br>Qe quoi vous parle-t-on ?", "anabs_text": "conversations ont eu lieu en votre absence", "speaker_success": "Bravo, votre interlocuteur vous a compris !", "hearer_success": "Bravo, vous avez compris votre interlocuteur ! Vous vous en souviendrez pour la prochaine fois !", "story_pagetitle": "HISTOIRE", "hearer_failure": "Oups, votre interlocuteur voulait parler d'autre chose. Vous vous en souviendrez pour la prochaine fois !", "speaker_learn": "Votre co\u00e9quipier ne connaissait pas ce mot mais il s'en souviendra pour la prochaine fois !", "continue": "CONTINUER", "game_locked": "Terminer le Tutoriel pour d\u00e9bloquer", "btn_yes": "<p>Oui, quitter la partie</p>", "button_multi": "INFORMATIONS", "speaker_failure": "Oups, votre interlocuteur pensait que vous parliez d'autre chose. Il s'en souviendra pour la prochaine fois !", "anspeaker_text": "C\u2019est \u00e0 vous de prendre la parole.<br> Choissisez l\u2019objet dont vous allez parler.", "history_words": "Mots", "hearer_learn": "Voil\u00e0 ce que votre co\u00e9quipier voulait dire, vous vous en souviendrez pour la prochaine fois !", "col_2": "Mots Pr\u00e9f\u00e9r\u00e9s", "col_3": "Seconds mots pr\u00e9f\u00e9r\u00e9s", "col_1": "Objets", "text_score": "Score :", "modal_title": "\u00cates vous s\u00fbr.e ?", "label_lang": "Choisissez la langue du jeu :", "label_q5": "Si oui, pourriez-vous la ou les d\u00e9crire bri\u00e8vement ?", "titre_info": "", "label_q4": "Avez-vous eu l'impression d'utiliser une certaine strat\u00e9gie (ou plusieurs) lors de vos parties ?", "welcome": "Le Naming Game !", "label_q2": "Aviez-vous d\u00e9j\u00e0 jou\u00e9 \u00e0 un jeu de ce type ou particip\u00e9 \u00e0 une exp\u00e9rience similaire auparavant ?", "label_q3": "\u00cates-vous familier.\u00e8re avec les concepts \u00e9voqu\u00e9s plus haut ? ", "label_q1": "\u00catiez-vous d\u00e9j\u00e0 familier.\u00e8re avec le principe des Naming Games ? ", "label_code": "Si vous avez un code sp\u00e9cial, entrez le ici :", "enter_player_name": "Entrez votre nom ici :", "button_normal": "JEU", "btn_no": "<p>Non, continuer la partie</p>", "info_text": "", "c1_1": " Vous avez \u00e9t\u00e9 enlev\u00e9 par des Extraterrestres !", "c1_3": "<span class=\"important\">Aucun de vous ne parle la m\u00eame langue</span> mais vous voulez tous vous \u00e9chapper pour pouvoir rentrer chez vous.", "c1_2": "Vous voil\u00e0 enferm\u00e9 seul dans une pi\u00e8ce de leur vaisseau. Dans les pi\u00e8ces d'\u00e0 c\u00f4t\u00e9 se trouvent <span class='important'>4 autres individus</span> que vos ravisseurs ont \u00e9galement enlev\u00e9s aux quatre coins de la galaxie.", "history_objects": "Objets", "text_end": "Apr\u00e8s avoir r\u00e9ussi \u00e0 vous comprendre, vous mettez au point un plan d'\u00e9vasion spectaculaire. Vos ravisseurs ne voient rien venir avant qu'il ne soit trop tard. Vous leur volez un vaisseau qu'un de vos camarades pilote pour vous ramener tous paisiblement chez vous.", "error_text": "<span id='error_span'>Oups !</span> Il semblerait qu'une erreur se soit produite ! Vous pouvez tenter de continuer ou revenir \u00e0 l'accueil pour commencer une nouvelle partie."}, "en": {"btn_continue": "Resume the game", "subtitle": "Explore the language.", "button_basic": "TUTORIAL", "tooltip_example": "If you were not provided a token, leave empty.", "results": "RESULTS", "history_success": "Succes", "c2_4": "But careful, you only have a <span class=\"important\">limited number of conversations</span> to succed\u00a0!", "c2_2": "One of you will say a word and the other will have to guess which object he is referring to.", "c2_3": "Sometimes you will talk, sometimes you will guess and sometimes you won\u2019t be in the conversation and you won\u2019t know what was said.", "c2_1": "To do so, you may only talk <span class=\"important\">by pairs</span> thanks to a <span class=\"important\">radio</span>, <span class=\"important\">without knowing wich one of your companions in misery is on the other side</span>.", "choice_words": "Your turn to speak. <br> Choose the word you will use to talk about this object.", "submit": "Submit", "button_next": "CONTINUE", "modal_body": "If you quit the ongoing game, it won\u2019t be saved. Do you still want to quit\u00a0?", "multi_locked": "COMPLETE THE GAME 3 TIMES TO UNLOCK ", "conversations": "INTERACTION", "btn_home": "Go back to Home page", "anhearer_text": "Someone is trying to communicate with you.<br>What are they talking about ?", "anabs_text": "interactions happened without you being a part of it.", "speaker_success": "Well done, your partner understood you !", "hearer_success": "Well done, you understood your partner ! You will remember it next time !", "story_pagetitle": "Story", "hearer_failure": "Oops, your partner meant something else. You will remember it next time !", "speaker_learn": "Your partner didn't know this word but they will remeber it next time !", "continue": "CONTINUE", "game_locked": "COMPLETE THE TUTORIAL TO UNLOCK", "btn_yes": "<p>Yes, quit the game</p>", "button_multi": "INFORMATIONS", "speaker_failure": "Oops, your partner thought you were talking about something else. They will remember it next time !", "anspeaker_text": "Your turn to speak. <br> Choose the object you will talk about.", "history_words": "Words", "hearer_learn": "This is what your partner meant, you will remember it next time !", "col_2": "Favorite Words", "col_3": "Second Favorite Words", "col_1": "Objects", "text_score": "Score :", "modal_title": "Are you sure ?", "label_lang": "Choose the game language :", "label_q5": "If it is a 'Yes', could you describe it briefly ?", "titre_info": "", "label_q4": "Did you felt like you used a certain strategy (or several) during your games ?", "welcome": "The Naming Game!", "label_q2": "Have you already played such a game or been taking part into a similar experiment ?", "label_q3": "Were you already familiar with the concepts evoked above ?", "label_q1": "Were you already familiar with the Naming Games principle ? ", "label_code": "If you have a special token, enter it here :", "enter_player_name": "Enter your name here :", "button_normal": "GAME", "btn_no": "<p>No, resume the game</p>", "info_text": "", "c1_1": " You have been kidnapped by Aliens !", "c1_3": "<span class=\"important\">None of you is from the same planet or speak the same language</span> but you all want the same thing\u00a0: escape and go back home.", "c1_2": "Now, you are locked alone in a room of their huge spaceship. In the rooms next to yours, there are <span class=\"important\">3 other individuals</span> also kidnapped by your abductors at the four corners of the galaxy.", "history_objects": "Objects", "text_end": "Once you managed to understand each other, you develop a spectacular escape plan. Your abductors don\u2019t even see it coming until it\u2019s too late. You steal a ship from them and one of your companions drive you back home with it.", "error_text": "<span id='error_span'>Oops!</span> It seems that an error occured! You can try to resume your game or go back at home page an start a new one."}, "it": {"btn_continue": "Continuer", "subtitle": "Explorer le langage.", "button_basic": "TUTORIEL", "tooltip_example": "Si vous n'avez pas de code, laissez ce champ vide.", "results": "RESULTATS", "history_success": "Succ\u00e8s", "c2_4": "Mais attention, vous n'avez \u00e0 vous tous qu'un <span class='important'>nombre limit\u00e9 de conversations</span> pour r\u00e9ussir !", "c2_2": "L'un de vous proposera un mot et l'autre devra deviner l'objet auquel il fait r\u00e9f\u00e9rence.", "c2_3": "Parfois vous proposerez un mot, parfois vous devinerez l'objet et parfois encore vous ne ferez pas partie de la conversation et ne saurez pas ce qui s'y est dit.", "c2_1": "Pour ce faire, vous ne pourrez parler que <span class='important'>deux par deux</span> gr\u00e2ce \u00e0 une <span class='important'>radio</span>, <span class='important'>sans savoir lequel de vos camarades d'infortune est \u00e0 l'autre bout</span>.", "choice_words": "c\u2019est \u00e0 vous de prendre la parole.<br> choissisez le mot que vous allez utiliser pour parler de cet objet.", "submit": "Valider", "button_next": "CONTINUER", "modal_body": "Si vous quittez la partie en cours, celle-ci ne sera pas sauvegard\u00e9e. Voulez-vous toujours quitter ?", "multi_locked": "Terminer le Jeu 3 fois pour d\u00e9bloquer", "conversations": "CONVERSATION", "btn_home": "Revenir \u00e0 l'Accueil", "anhearer_text": "on essaye de communiquer avec vous.<br>de quoi vous parle-t-on ?", "anabs_text": "conversation a eu lieu en votre absence", "speaker_success": "Bravo, votre interlocuteur vous a compris !", "hearer_success": "Bravo, vous avez compris votre interlocuteur ! Vous vous en souviendrez pour la prochaine fois !", "story_pagetitle": "HISTOIRE", "hearer_failure": "Oups, votre interlocuteur voulait parler d'autre chose. Vous vous en souviendrez pour la prochaine fois !", "speaker_learn": "Votre co\u00e9quipier ne connaissait pas ce mot mais il s'en souviendra pour la prochaine fois !", "continue": "CONTINUER", "game_locked": "Terminer le Tutoriel pour d\u00e9bloquer", "btn_yes": "<p>Oui, quitter la partie</p>", "button_multi": "INFORMATIONS", "speaker_failure": "Oups, votre interlocuteur pensait que vous parliez d'autre chose. Il s'en souviendra pour la prochaine fois !", "anspeaker_text": "c\u2019est \u00e0 vous de prendre la parole.<br> choissisez l\u2019objet dont vous allez parler.", "history_words": "Mots", "hearer_learn": "Voil\u00e0 ce que votre co\u00e9quipier voulait dire, vous vous en souviendrez pour la prochaine fois !", "col_2": "Mots Pr\u00e9f\u00e9r\u00e9s", "col_3": "Seconds mots pr\u00e9f\u00e9r\u00e9s", "col_1": "Objets", "text_score": "Score :", "modal_title": "\u00cates vous s\u00fbr.e ?", "label_lang": "Choisissez la langue du jeu :", "label_q5": "Si oui, pourriez-vous la ou les d\u00e9crire bri\u00e8vement ?", "titre_info": "", "label_q4": "Avez-vous eu l'impression d'utiliser une certaine strat\u00e9gie (ou plusieurs) lors de vos parties ?", "welcome": "Le Naming Game !", "label_q2": "Aviez-vous d\u00e9j\u00e0 jou\u00e9 \u00e0 un jeu de ce type ou particip\u00e9 \u00e0 une exp\u00e9rience similaire auparavant ?", "label_q3": "\u00cates-vous familier.\u00e8re avec les concepts \u00e9voqu\u00e9s plus haut ? ", "label_q1": "\u00catiez-vous d\u00e9j\u00e0 familier.\u00e8re avec le principe des Naming Games ? ", "label_code": "Si vous avez un code sp\u00e9cial, entrez le ici :", "enter_player_name": "Entrez votre nom ici :", "button_normal": "JEU", "btn_no": "<p>Non, continuer la partie</p>", "info_text": "", "c1_1": " Vous avez \u00e9t\u00e9 enlev\u00e9 par des Extraterrestres !", "c1_3": "<span class=\"important\">Aucun de vous ne parle la m\u00eame langue</span> mais vous voulez tous vous \u00e9chapper pour pouvoir rentrer chez vous.", "c1_2": "Vous voil\u00e0 enferm\u00e9 seul dans une pi\u00e8ce de leur vaisseau. Dans les pi\u00e8ces d'\u00e0 c\u00f4t\u00e9 se trouvent <span class='important'>4 autres individus</span> que vos ravisseurs ont \u00e9galement enlev\u00e9s aux quatre coins de la galaxie.", "history_objects": "Objets", "text_end": "Apr\u00e8s avoir r\u00e9ussi \u00e0 vous comprendre, vous mettez au point un plan d'\u00e9vasion spectaculaire. Vos ravisseurs ne voient rien venir avant qu'il ne soit trop tard. Vous leur volez un vaisseau qu'un de vos camarades pilote pour vous ramener tous paisiblement chez vous.", "error_text": "<span id='error_span'>Oups !</span> Il semblerait qu'une erreur se soit produite ! Vous pouvez tenter de continuer ou revenir \u00e0 l'accueil pour commencer une nouvelle partie."}};
//LANG GETS DECLARED HERE, this line is used in the python script generating it

var current_lang_id = 'en';
var current_lang = lang[current_lang_id];

    function change_language(lang_str){
        current_lang_id = lang_str;
        current_lang = lang[lang_str];

        $('#welcome').html(current_lang.welcome);
        $('#enter_player_name').html(current_lang.enter_player_name);
        $('#label_lang').html(current_lang.label_lang);
        $('#label_code').html(current_lang.label_code);
        $('#submit').val(current_lang.submit);

          //Home
        $('#button_basic').html(current_lang.button_basic);
        $('#button_multi').html(current_lang.button_multi);
        $('#button_normal').html(current_lang.button_normal);
        $('#comment_avatar').html(current_lang.comment_avatar);
        $('#subtitle').html(current_lang.subtitle);
        $('#game_locked' ).html(current_lang.game_locked);
        $('#multi_locked').html(current_lang.multi_locked);

          //Story End
        $('#story_pagetitle').html(current_lang.story_pagetitle);
        $('#end_pagetitle').html(current_lang.end_pagetitle);
        $('#c1_1').html(current_lang.c1_1);
        $('#c1_2').html(current_lang.c1_2);
        $('#c2_1').html(current_lang.c2_1);
        $('#c2_2').html(current_lang.c2_2);
        $('#c2_3').html(current_lang.c2_3);
        $('#text_end').html(current_lang.text_end);
        $('#text_score').html(current_lang.text_score);
        $('#c1_3').html(current_lang.c1_3);
        $('#c2_4').html(current_lang.c2_4);
        $('#col_1').html(current_lang.col_1);
        $('#col_2').html(current_lang.col_2);
        $('#col_3').html(current_lang.col_3);
          //Game
        $('#continue').html(current_lang.continue);
        $('#button_next').val(current_lang.continue);
        $('#history_name').html(current_lang.history_name);
        $('#conversations').html(current_lang.conversations);
        $('#anhearer_text').html(current_lang.anhearer_text);
        $('#anspeaker_text').html(current_lang.anspeaker_text);
        //$('#anabs_text').html(current_lang.anabs_text);
        $('#hearer_expl').html(current_lang.hearer_expl);
        $('#speaker_expl').html(current_lang.speaker_expl);
        $('#choice_words').html(current_lang.choice_words);
        $('#history_objects').html(current_lang.history_objects);
        $('#history_words').html(current_lang.history_words);
        $('#history_success').html(current_lang.history_success);
        $('#modal_title').html(current_lang.modal_title);
        $('#modal_body').html(current_lang.modal_body);
        $('#btn_yes').html(current_lang.btn_yes);
        $('#btn_no').html(current_lang.btn_no);

        //Feedback
        $('#speaker_success').html(current_lang.speaker_success);
        $('#speaker_learn').html(current_lang.speaker_learn);
        $('#speaker_failure').html(current_lang.speaker_failure);
        $('#hearer_success').html(current_lang.hearer_success);
        $('#hearer_learn').html(current_lang.hearer_learn);
        $('#hearer_failure').html(current_lang.hearer_failure);


        //Error Page

        $('#error_text').html(current_lang.error_text);
        $('#btn_home').html(current_lang.btn_home);
        $('#btn_continue').html(current_lang.btn_continue);

        //Info Page

        $('#label_q1').html(current_lang.label_q1);
        $('#label_q2').html(current_lang.label_q2);
        $('#label_q3').html(current_lang.label_q3);
        $('#label_q4').html(current_lang.label_q4);
        $('#label_q5').html(current_lang.label_q5);

        //Tooltips

        $('#id_code').attr('data-original-title',current_lang.tooltip_example);

        //console.log(lang_str);


        $(document).prop('title', current_lang.title);
        //$('#title').html(lang.it[0].window_title);
        //$('text#button_next').val(lang.it[0].button_next);
        if ($('#anabs_text').attr('nb_skipped') == "1"){
          if (lang_str == "fr"){
            var replace_string = " conversation a eu lieu sans vous"
            $('#anabs_text').html(replace_string);
          }
          if (lang_str == "en"){
            var replace_string = " interaction happened whithout you"
            $('#anabs_text').html(replace_string);
          }
          if (lang_str == "it"){
            var replace_string = " "
            $('#anabs_text').html(replace_string);
          }
        } else {
          $('#anabs_text').html(current_lang.anabs_text);
        };

        //var interaction_string = current_lang.conversations + " " + $('#conversations').attr('nbr');
        //$('#conversations').html(interaction_string);


    Cookies.set('NamingGameLang',
        lang_str
        );
        $('html').attr('lang',lang_str);
        if (lang_str == "en"){$("#lang").attr("src",'../static/ng/img/english-flag.png').attr("value", "en");};
        //if (lang_str == "it"){$("#lang").attr("src",'../static/ng/img/italian-flag.png').attr("value","it");};
        if (lang_str == "fr"){$("#lang").attr("src",'../static/ng/img/french-flag.png').attr("value","fr");};

    };


function set_language(){
    if (typeof Cookies.get('NamingGameLang') === 'undefined'){
        var html_lang = $('html').attr('lang');
    } else {
        var html_lang = Cookies.get('NamingGameLang');
        $('html').attr('lang',html_lang);
    };
    change_language(html_lang);
    //$('#flag_'+html_lang).trigger("click");
};


function switch_language(lang){
    var next_lang = "fr";
    if (lang == "fr"){next_lang = "en";
                      $("#lang").attr("src",'../static/ng/img/english-flag.png').attr("value", "en");
                    };
  //  if (lang == "en"){next_lang = "it";
    //                  $("#lang").attr("src",'../static/ng/img/italian-flag.png').attr("value","it");
    //                };
    //if (lang == "it"){next_lang = "fr";
    //                  $("#lang").attr("src",'../static/ng/img/french-flag.png').attr("value","fr");
    //                };

    if (lang == "en"){next_lang = "fr";
                        $("#lang").attr("src",'../static/ng/img/french-flag.png').attr("value","fr");
                      };
    Cookies.set('NamingGameLang',next_lang);
    return next_lang;
};


$(document).ready(function(){


      //  $.each(lang,function(key,value){

    $('#lang').click(function(event){
      //var sound_click = document.createElement('audio');
      //sound_click.setAttribute('src', "{% static 'ng/sounds/60945__erh__click.wav' %}");
      sound_click.play();
        change_language(switch_language($('#lang').attr('value')));
    });
//});



    set_language();
});
